{"ast":null,"code":"var _jsxFileName = \"E:\\\\KTCity\\\\react-course-project\\\\react-monkey-blogging\\\\src\\\\module\\\\home\\\\HomeFeature.js\",\n    _s = $RefreshSig$();\n\nimport Heading from \"components/layout/Heading\";\nimport { db } from \"firebase-app/firebase-config\";\nimport { collection, limit, onSnapshot, query, where } from \"firebase/firestore\";\nimport PostFeatureItem from \"module/post/PostFeatureItem\";\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomeFeatureStyles = styled.div``;\n_c = HomeFeatureStyles;\n\nconst HomeFeature = () => {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    const colRef = collection(db, \"posts\");\n    const queries = query(colRef, where(\"status\", \"==\", 1), where(\"hot\", \"==\", true), limit(3));\n    onSnapshot(queries, snapshot => {\n      const results = [];\n      snapshot.forEach(doc => {\n        results.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setPosts(results);\n    });\n  }, []);\n  if (posts.length <= 0) return null;\n  return /*#__PURE__*/_jsxDEV(HomeFeatureStyles, {\n    className: \"home-block\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        children: \"Featured posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-layout\",\n        children: posts.map(post => /*#__PURE__*/_jsxDEV(PostFeatureItem, {\n          data: post\n        }, post.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s(HomeFeature, \"bG8V4duoIfO0BEPgauWMVT5Qvyw=\");\n\n_c2 = HomeFeature;\nexport default HomeFeature;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"HomeFeatureStyles\");\n$RefreshReg$(_c2, \"HomeFeature\");","map":{"version":3,"sources":["E:/KTCity/react-course-project/react-monkey-blogging/src/module/home/HomeFeature.js"],"names":["Heading","db","collection","limit","onSnapshot","query","where","PostFeatureItem","React","useEffect","useState","styled","HomeFeatureStyles","div","HomeFeature","posts","setPosts","colRef","queries","snapshot","results","forEach","doc","push","id","data","length","map","post"],"mappings":";;;AAAA,OAAOA,OAAP,MAAoB,2BAApB;AACA,SAASC,EAAT,QAAmB,8BAAnB;AACA,SACEC,UADF,EAEEC,KAFF,EAGEC,UAHF,EAIEC,KAJF,EAKEC,KALF,QAMO,oBANP;AAOA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AACA,MAAMC,iBAAiB,GAAGD,MAAM,CAACE,GAAI,EAArC;KAAMD,iB;;AAEN,MAAME,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,MAAM,GAAGf,UAAU,CAACD,EAAD,EAAK,OAAL,CAAzB;AACA,UAAMiB,OAAO,GAAGb,KAAK,CACnBY,MADmB,EAEnBX,KAAK,CAAC,QAAD,EAAW,IAAX,EAAiB,CAAjB,CAFc,EAGnBA,KAAK,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,CAHc,EAInBH,KAAK,CAAC,CAAD,CAJc,CAArB;AAMAC,IAAAA,UAAU,CAACc,OAAD,EAAWC,QAAD,IAAc;AAChC,YAAMC,OAAO,GAAG,EAAhB;AACAD,MAAAA,QAAQ,CAACE,OAAT,CAAkBC,GAAD,IAAS;AACxBF,QAAAA,OAAO,CAACG,IAAR,CAAa;AACXC,UAAAA,EAAE,EAAEF,GAAG,CAACE,EADG;AAEX,aAAGF,GAAG,CAACG,IAAJ;AAFQ,SAAb;AAID,OALD;AAMAT,MAAAA,QAAQ,CAACI,OAAD,CAAR;AACD,KATS,CAAV;AAUD,GAlBQ,EAkBN,EAlBM,CAAT;AAmBA,MAAIL,KAAK,CAACW,MAAN,IAAgB,CAApB,EAAuB,OAAO,IAAP;AACvB,sBACE,QAAC,iBAAD;AAAmB,IAAA,SAAS,EAAC,YAA7B;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,kBACGX,KAAK,CAACY,GAAN,CAAWC,IAAD,iBACT,QAAC,eAAD;AAA+B,UAAA,IAAI,EAAEA;AAArC,WAAsBA,IAAI,CAACJ,EAA3B;AAAA;AAAA;AAAA;AAAA,gBADD;AADH;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CAlCD;;GAAMV,W;;MAAAA,W;AAoCN,eAAeA,WAAf","sourcesContent":["import Heading from \"components/layout/Heading\";\nimport { db } from \"firebase-app/firebase-config\";\nimport {\n  collection,\n  limit,\n  onSnapshot,\n  query,\n  where,\n} from \"firebase/firestore\";\nimport PostFeatureItem from \"module/post/PostFeatureItem\";\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nconst HomeFeatureStyles = styled.div``;\n\nconst HomeFeature = () => {\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    const colRef = collection(db, \"posts\");\n    const queries = query(\n      colRef,\n      where(\"status\", \"==\", 1),\n      where(\"hot\", \"==\", true),\n      limit(3)\n    );\n    onSnapshot(queries, (snapshot) => {\n      const results = [];\n      snapshot.forEach((doc) => {\n        results.push({\n          id: doc.id,\n          ...doc.data(),\n        });\n      });\n      setPosts(results);\n    });\n  }, []);\n  if (posts.length <= 0) return null;\n  return (\n    <HomeFeatureStyles className=\"home-block\">\n      <div className=\"container\">\n        <Heading>Featured posts</Heading>\n        <div className=\"grid-layout\">\n          {posts.map((post) => (\n            <PostFeatureItem key={post.id} data={post}></PostFeatureItem>\n          ))}\n        </div>\n      </div>\n    </HomeFeatureStyles>\n  );\n};\n\nexport default HomeFeature;\n"]},"metadata":{},"sourceType":"module"}